{
  "version": 3,
  "sources": ["../../@kombai/react-error-boundary/dist/kombai-react-error-boundary.development.js"],
  "sourcesContent": ["'use client';\nimport React, { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = /*#__PURE__*/createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = /*#__PURE__*/createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        {\n          console.error(\"react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop\");\n        }\n        throw error;\n      }\n    }\n    return /*#__PURE__*/createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction ErrorPage(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n      padding: \"20px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#ffffff\",\n      borderRadius: \"16px\",\n      boxShadow: \"0 20px 50px rgba(0, 0, 0, 0.15)\",\n      padding: \"40px\",\n      maxWidth: \"800px\",\n      width: \"100%\",\n      maxHeight: \"80vh\",\n      overflow: \"auto\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginBottom: \"32px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      gap: \"16px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"32px\"\n    }\n  }, \"\\u26A0\\uFE0F\"), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: \"#e53e3e\",\n      fontSize: \"32px\",\n      fontWeight: \"700\",\n      margin: \"0\"\n    }\n  }, \"Something went wrong\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"24px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: \"#2d3748\",\n      fontSize: \"18px\",\n      fontWeight: \"600\",\n      marginBottom: \"12px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: \"8px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", null, \"\\uD83D\\uDD34\"), \"Error Message\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#fed7d7\",\n      border: \"1px solid #feb2b2\",\n      borderRadius: \"8px\",\n      padding: \"16px\",\n      color: \"#742a2a\",\n      fontSize: \"14px\",\n      fontWeight: \"500\",\n      textAlign: \"left\",\n      overflow: \"auto\",\n      whiteSpace: \"pre\"\n    }\n  }, props.error.message || \"No error message available\")), props.error.stack && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: \"#2d3748\",\n      fontSize: \"18px\",\n      fontWeight: \"600\",\n      marginBottom: \"12px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: \"8px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", null, \"\\uD83D\\uDCCB\"), \"Stack Trace\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#f7fafc\",\n      border: \"1px solid #e2e8f0\",\n      borderRadius: \"8px\",\n      padding: \"16px\",\n      fontSize: \"12px\",\n      fontFamily: \"Monaco, Menlo, 'Ubuntu Mono', monospace\",\n      color: \"#4a5568\",\n      lineHeight: \"1.5\",\n      overflow: \"auto\",\n      maxHeight: \"300px\",\n      whiteSpace: \"pre\"\n    }\n  }, props.error.stack))));\n}\nfunction onError(error, info) {\n  if (window.sendError) {\n    const errorWithComponentStack = error;\n    errorWithComponentStack.componentStack = info.componentStack;\n    window.sendError(errorWithComponentStack);\n  }\n}\nfunction ErrorBoundaryReporter(_ref) {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ErrorBoundary, {\n    FallbackComponent: props => /*#__PURE__*/React.createElement(ErrorPage, {\n      error: props.error\n    }),\n    onError: onError\n  }, children);\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundaryReporter as ErrorBoundary, ErrorBoundaryContext, ErrorPage, ErrorBoundary as RawErrorBoundary, ErrorBoundaryReporter as default, useErrorBoundary, withErrorBoundary };\n"],
  "mappings": "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",
  "names": ["React"]
}
